@startuml Component Diagram - Client-Server Architecture

left to right direction

skinparam component {
    BackgroundColor<<client>> #D8ECFF
    BackgroundColor<<server>> #E8FFE0
    BackgroundColor<<db>> #FFE2E2
    BorderColor #1F2A44
    ArrowColor #1F2A44
}

title Client ⇄ Server Communication Overview

package "Client (React/Vite)" <<client>> {
    component "UI Screens" as UI {
        note top
            App.tsx orchestrates:
            • LoginScreen
            • DashboardScreen
            • WorkoutLogScreen
            • GoalSettingScreen
            • ProfileScreen
        end note
    }
    component "API Client Service" as API {
        note bottom
            src/services/api.ts
            • fetch wrappers
            • JSON parsing
            • Error handling
        end note
    }
    UI --> API : Component props/state\ninvoke fetch helpers
}

package "Server (Spring Boot)" <<server>> {
    [REST Controllers] as CTRL
    [Repositories] as REPO
    [JPA Entities] as ENT

    note top of CTRL
        UserController\nWorkoutController\nGoalController
        Expose /api/** endpoints
    end note

    note top of REPO
        UserRepository\nWorkoutRepository\nGoalRepository
        Extends JpaRepository
    end note

    note top of ENT
        User, Workout, Goal, Exercise
        Annotated with @Entity
    end note

    CTRL --> REPO : `@Autowired`\nmethod calls
    REPO --> ENT : ORM mapping
}

database "PostgreSQL" <<db>> as PG {
    [users]\n[workouts]\n[goals]\n[exercises]
}

' ==== Connectors ====
API -down-> CTRL : HTTP/REST\nJSON payloads\n(/api/users etc.)
REPO -down-> PG : JDBC via\nSpring Data JPA

note on link API--CTRL
    **Connector:** HTTPS request/response
    • Methods: GET/POST/PUT/DELETE
    • Headers: JSON, CORS enabled
    • Defined in src/services/api.ts
end note

note on link REPO--PG
    **Connector:** Hibernate/JPA
    • EntityManager writes SQL
    • Transactions managed by Spring
    • application.properties configures JDBC URL
end note

note bottom
    Client-server responsibilities:
    • Client handles UI rendering + state.
    • Server handles validation + persistence.
    • Single hop boundary emphasises request/response flow.
end note

@enduml

